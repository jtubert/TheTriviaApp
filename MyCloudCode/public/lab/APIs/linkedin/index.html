<html>
<head>
  <title>Testing the LinkedIn JavaScript API</title>

  <script type="text/javascript" src="http://platform.linkedin.com/in.js">
    api_key: R_WLJ949QNtc1puM-CIk9bfGjXQvwp029JPaMoZLLy2xLd3e9C3uNefHCxpNoyAv
    authorize: true
  </script>

  <script type="text/javascript">

    // Once we have an authorization, fetch the user's profile via API
    function onLinkedInAuth() {
      IN.API.PeopleSearch().params({"first-name":"Barack"})
		.result( function(r) {onPeopleSearch(r);} )
        .error( function(e) {alert("something broke " + e);} );

		IN.API.Profile("me")
        .result( function(r) {setProfile(r);} )
        .error( function(e) {alert("something broke " + e);} );
    }

	function onPeopleSearch(result){
		console.log(result);
	}

    // Display basic profile information inside the page
    function setProfile(result) {
		console.log(result);
		var user = result.values[0];
		var msg = "<p>Welcome " + user.firstName + " " + user.lastName + "</p>";
		msg+="<img src='"+user.pictureUrl+"'>"
		msg+="<p>"+user.headline+"</p>";

		var profileDiv = document.getElementById("userprofile");
		profileDiv.innerHTML = msg;
    }

  </script>
</head>
<body>

  <script type="in/login" data-onAuth="onLinkedInAuth"></script>

  <div id="userprofile"></div>

</body>
</html>