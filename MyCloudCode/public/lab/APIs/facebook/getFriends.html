<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>postToWall</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="John Tubert">
	<!-- Date: 2011-02-28 -->
	
	<script src="js/jquery-1.4.4-min.js"></script>
	<script src="http://connect.facebook.net/en_US/all.js"></script>
	
</head>
<body>
	
	<div id="fb-root"></div>
<script>
	
    window.fbAsyncInit = function() {
     	FB.init({appId: "313518962064403", status: true, cookie: true, xfbml: true}); 
	}; 	
	
	function shareFlag(){	
		FB.getLoginStatus(function(response) {
		  console.log(response);
		if (response.status == "connected") {
		    getFriends();
		  } else {
		    FB.login(function(response) {
			  if (response.session) {
			    getFriends();
			  } else {
			    alert("user cancelled login");
			  }
			});
		  }
		});
		
	function getFriends(){
		var params = {fields:"name,picture"};		
		FB.api('/me/friends', 'get', params, function(response) {
		  if (!response || response.error) {
		    alert('Error occured');
		  } else {
		    alert(response.data.length+" friends.");
		  }
		});
	}	
		
			
		
    }	
</script>





<a href="#" onclick="shareFlag();">Share Flag</a>
    

</body>
</html>
